{"mappings":"AACA,MAAMA,EAAeC,SAASC,cAAc,UACtCC,EAAOF,SAASC,cAAc,SAC9BE,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,GAAWN,EAAKO,SACrCV,EAAaW,iBAAiB,SAI9B,WACEC,YAAW,KACT,IAAK,IAAIC,EAAQ,EAAGA,EAAQJ,EAAOK,MAAOD,GAAS,EACjDE,GAAY,EACZC,GAAaC,OAAOV,EAAKO,OACzBI,EAAWH,EAAUC,E,GAEtBX,EAAMS,OACTF,YAAW,KACTG,EAAW,EACXC,EAAY,CAAC,GACZT,EAAKO,MAAQL,EAASJ,EAAMS,M,IAdjC,IAAIC,EAAW,EACXC,EAAY,EAgBhB,SAASE,EAAWC,EAAUC,GAC9B,IAAIC,EAAI,IAAIC,SAAQ,CAACC,EAASC,KACNC,KAAKC,SAAW,GAEjCH,IAEAC,GAAQ,IAGbZ,YAAW,MAMb,SAAsBS,EAAGM,EAAUC,GACjCP,EAAEQ,MAAK,KACLC,QAAQC,IAAI,uBAAqBJ,QAAiBC,MAAc,IAC/DI,OAAM,KACPF,QAAQC,IAAI,sBAAoBJ,QAAeC,MAAc,G,CAT7DK,CAAaZ,EAAGF,EAAUC,GAC1BA,EAAY,CAAC,GACZA,E","sources":["src/js/03-promises.js"],"sourcesContent":["\nconst buttonSubmit = document.querySelector(\"button\")\nconst form = document.querySelector(\"form\")\nconst { delay, step, amount } = form.elements\nbuttonSubmit.addEventListener(\"click\", createPromise)\nlet position = 0\nlet stepValue = 0\n\nfunction createPromise() {\n  setTimeout(() => {\n    for (let index = 0; index < amount.value; index += 1) {\n      position += 1\n      stepValue += Number(step.value)\n      newPromise(position, stepValue)\n    }\n  }, delay.value)\n  setTimeout(() => {\n    position = 0\n    stepValue = 0\n  }, step.value * amount + delay.value)\n}\n\nfunction newPromise(position, stepValue) {\nlet a = new Promise((resolve, reject) => {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n       resolve()\n  } else {\n       reject()\n    }\n  }) \n  setTimeout(() => {\n    returnResult(a, position, stepValue)\n    stepValue = 0\n  }, stepValue)\n}\n\nfunction returnResult(a, position, stepValue) {\n  a.then(() => {\n    console.log(`✅ Fulfilled promise ${position} in ${stepValue}ms`);\n  }).catch(() => {\n    console.log(`❌ Rejected promise ${position} in ${stepValue}ms`);\n  });\n}"],"names":["$47d4ff9957288465$var$buttonSubmit","document","querySelector","$47d4ff9957288465$var$form","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","elements","addEventListener","setTimeout","index","value","$47d4ff9957288465$var$position","$47d4ff9957288465$var$stepValue","Number","$47d4ff9957288465$var$newPromise","position1","stepValue1","a","Promise","resolve","reject","Math","random","position2","stepValue2","then","console","log","catch","$47d4ff9957288465$var$returnResult"],"version":3,"file":"03-promises.0e1f1e7b.js.map"}