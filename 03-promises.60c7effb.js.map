{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,MAAEC,EAAKC,KAAEC,EAAIC,OAAEC,GAAWR,EAAKS,SACrCT,EAAKU,iBAAiB,UAKE,SAADC,GACrBA,EAAMC,iBAG0BC,YAArB,KACTC,EAAWC,EAAUC,OAAOZ,EAAMa,QAClCC,GAAaF,OAAOZ,EAAMa,MAAM,GAC/Bb,EAAMa,OAE0BJ,YAAxB,KACT,IAAK,IAAIM,EAAQ,EAAGA,EAAQX,EAAOS,MAAQ,EAAGE,GAAS,EACrDJ,GAAY,EACZG,GAAcF,OAAOV,EAAKW,OAC1BH,EAAWC,EAAUG,E,GAEtBd,EAAMa,OAE2BJ,YAAzB,KACTE,EAAW,EACXG,EAAY,CAAC,GACZZ,EAAKW,MAAQT,EAASJ,EAAMa,M,IAxBjC,IAAIF,EAAW,EACXG,EAAY,EA2BU,SAAjBJ,EAAWM,EAAUC,GAEMR,YAAvB,MAec,SAALS,EAAGC,EAAUC,GACjCF,EAAEG,MAAK,KACL3B,EAAA4B,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAc,IAClEI,OAAM,KACP9B,EAAA4B,OAAOG,QAAQ,sBAAoBN,QAAeC,MAAc,G,CAVhEM,CARQ,IAAIC,SAAQ,CAACC,EAASC,KACVC,KAAKC,SAAW,GAEjCH,IAEAC,GAAQ,IAGKb,EAAUC,EAAU,GACnCA,EAAYL,OAAOZ,EAAMa,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector(\"form\")\nconst { delay, step, amount } = form.elements\nform.addEventListener(\"submit\", createPromise)\nlet position = 0\nlet stepValue = 0\n\n//Функция для решения задания\nfunction createPromise(event) {\n  event.preventDefault()\n\n// Вызов первого элемента в нужное время\n  setTimeout(() => {\n    newPromise(position, Number(delay.value))\n    stepValue += Number(delay.value)\n  }, delay.value)\n// Вызов остальных элементов в нужное время\n  setTimeout(() => {\n    for (let index = 0; index < amount.value - 1; index += 1) {\n      position += 1\n      stepValue +=  Number(step.value)\n      newPromise(position, stepValue)\n    }\n  }, delay.value)\n// Обновление значений после конца действия \n  setTimeout(() => {\n    position = 1\n    stepValue = 0\n  }, step.value * amount + delay.value)\n}\n\n//Функция для создания промисов\nfunction newPromise(position, stepValue) {\n// Создание промисов и обработка промисов\n  setTimeout(() => {\n    let a = new Promise((resolve, reject) => {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n       resolve()\n  } else {\n       reject()\n    }\n  }) \n    returnResult(a, position, stepValue)\n  }, stepValue - Number(delay.value))\n}\n\n\n  //Функция для обработки промисов\nfunction returnResult(a, position, stepValue) {\n  a.then(() => {\n    Notify.success(`✅ Fulfilled promise ${position} in ${stepValue}ms`);\n  }).catch(() => {\n    Notify.failure(`❌ Rejected promise ${position} in ${stepValue}ms`);\n  });\n}"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","delay","$47d4ff9957288465$var$delay","step","$47d4ff9957288465$var$step","amount","$47d4ff9957288465$var$amount","elements","addEventListener","event","preventDefault","setTimeout","$47d4ff9957288465$var$newPromise","$47d4ff9957288465$var$position","Number","value","$47d4ff9957288465$var$stepValue","index","position1","stepValue1","a","position2","stepValue2","then","Notify","success","catch","failure","$47d4ff9957288465$var$returnResult","Promise","resolve","reject","Math","random"],"version":3,"file":"03-promises.60c7effb.js.map"}